apiVersion: cluster.open-cluster-management.io/v1beta1
kind: ClusterCurator
metadata:
  name: {{metadata.name}}
  namespace: {{metadata.namespace}}
spec:
  install:
    towerAuthSecret: {{spec.install.towerAuthSecret}}
    prehook:
    {{#each spec.install.prehook}}
      - name: {{name}}
        extra_vars:
        {{#each variables}}
          {{variable}}: "{{value}}"
        {{/each}}
    {{/each}}
    posthook:
    {{#each spec.install.posthook}}
      - name: {{name}}
        extra_vars:
        {{#each variables}}
          {{variable}}: "{{value}}"
        {{/each}}
    {{/each}}
  upgrade:
    towerAuthSecret: {{spec.upgrade.towerAuthSecret}}
    prehook:
    {{#each spec.upgrade.prehook}}
      - name: {{name}}
        extra_vars:
        {{#each variables}}
          {{variable}}: "{{value}}"
        {{/each}}
    {{/each}}
    posthook:
    {{#each spec.upgrade.posthook}}
      - name: {{name}}
        extra_vars:
        {{#each variables}}
          {{variable}}: "{{value}}"
        {{/each}}
    {{/each}}